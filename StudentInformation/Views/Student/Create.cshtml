@{
    ViewBag.Title = "Create";
}

<h2>Create</h2>

@Html.ValidationSummary()

<form method="post">
    <div class="form-group">
        <label for="Name">Name</label>
        <input type="text" value="@Model.Name" placeholder="Name" class="form-control" name="Name" />
        @if (ViewData.ModelState["Name"]?.Errors.Count > 0)
        {
            <span class="color-type-alert">
                <i class="glyph glyph-warning"></i>
                @Html.ValidationMessage("Name")
            </span>
        }
    </div>

    <div class="form-group">
        <label for="ID">ID</label>
        <input type="text" value="@Model.ID" placeholder="Id" class="form-control" name="ID" />
        @if (ViewData.ModelState["ID"]?.Errors.Count > 0)
        {
            <span class="color-type-alert">
                <i class="glyph glyph-warning"></i>
                @Html.ValidationMessage("ID")
            </span>
        }
    </div>

    <div class="form-group">
        <label for="Email">Email</label>
        <input type="text" value="@Model.Email" placeholder="Email" class="form-control" name="Email" />
        @if (ViewData.ModelState["Email"]?.Errors.Count > 0)
        {
            <span class="color-type-alert">
                <i class="glyph glyph-warning"></i>
                @Html.ValidationMessage("Email")
            </span>
        }
    </div>

    @{
        var today = DateTime.Today;
        var maxDate = today.AddYears(-20).ToString("yyyy-MM-dd"); // 20 years ago from today
        var dobValue = Model.DOB != DateTime.MinValue ? Model.DOB.ToString("dd-MM-yyyy") : "";
    }

    <div class="form-group">
        <label for="DoB">Date of Birth</label>
        <input type="date" value="@dobValue" max="@maxDate" class="form-control" name="DOB" />
        @if (ViewData.ModelState["DOB"]?.Errors.Count > 0)
        {
            <span class="color-type-alert">
                <span class="glyph glyph-warning"></span>
                @Html.ValidationMessage("DOB")
            </span>
        }
    </div>


    <input type="submit" value="Create" class="btn btn-success" />

    <a href="/">Hello link</a>
</form>
